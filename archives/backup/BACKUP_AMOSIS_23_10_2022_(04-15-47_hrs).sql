SET FOREIGN_KEY_CHECKS=0;

CREATE DATABASE IF NOT EXISTS amosis;

USE amosis;

DROP TABLE IF EXISTS bitacora;

CREATE TABLE `bitacora` (
  `ID_BITACORA` varchar(100) NOT NULL,
  `ID_USUARIO` varchar(10) DEFAULT NULL,
  `F_INICIO` datetime DEFAULT current_timestamp(),
  `F_FIN` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID_BITACORA`),
  KEY `ID_USUARIO` (`ID_USUARIO`),
  CONSTRAINT `bitacora_ibfk_1` FOREIGN KEY (`ID_USUARIO`) REFERENCES `usuario` (`ID_USUARIO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO bitacora VALUES("SES0215","USU411","2022-09-15 22:24:34","2022-09-15 21:27:51");
INSERT INTO bitacora VALUES("SES0245","USU0001","2022-10-22 21:13:51","");
INSERT INTO bitacora VALUES("SES029","USU0001","2022-09-15 15:06:39","2022-09-15 14:53:48");
INSERT INTO bitacora VALUES("SES0311","USU411","2022-09-15 19:56:01","2022-09-15 19:03:23");
INSERT INTO bitacora VALUES("SES0439","USU411","2022-10-19 23:34:41","2022-10-19 22:36:43");
INSERT INTO bitacora VALUES("SES0536","USU0001","2022-10-19 23:30:12","2022-10-19 22:32:23");
INSERT INTO bitacora VALUES("SES1019","USU0001","2022-09-15 22:31:34","2022-09-15 21:39:07");
INSERT INTO bitacora VALUES("SES157","USU411","2022-09-15 19:08:47","2022-09-15 18:21:08");
INSERT INTO bitacora VALUES("SES175","USU411","2022-09-15 19:07:33","2022-09-15 18:08:19");
INSERT INTO bitacora VALUES("SES2310","USU411","2022-09-15 19:25:17","2022-09-15 18:55:53");
INSERT INTO bitacora VALUES("SES2313","USU950","2022-09-15 18:36:07","2022-09-15 17:36:15");
INSERT INTO bitacora VALUES("SES2433","USU0001","2022-10-19 21:02:39","2022-10-19 22:19:58");
INSERT INTO bitacora VALUES("SES2528","USU0001","2022-09-15 23:35:43","");
INSERT INTO bitacora VALUES("SES2638","USU0001","2022-10-19 23:33:46","2022-10-19 22:34:37");
INSERT INTO bitacora VALUES("SES2731","USU0001","2022-09-18 16:58:22","");
INSERT INTO bitacora VALUES("SES2837","USU462","2022-10-19 23:32:30","2022-10-19 22:33:40");
INSERT INTO bitacora VALUES("SES3020","USU0001","2022-09-15 22:39:12","2022-09-15 21:40:46");
INSERT INTO bitacora VALUES("SES3232","USU0001","2022-09-28 16:08:42","");
INSERT INTO bitacora VALUES("SES3240","USU0001","2022-10-19 23:46:27","");
INSERT INTO bitacora VALUES("SES3426","USU0001","2022-09-15 23:27:42","2022-09-15 22:28:02");
INSERT INTO bitacora VALUES("SES3747","USU411","2022-10-22 21:14:35","2022-10-22 20:15:28");
INSERT INTO bitacora VALUES("SES3917","USU411","2022-09-15 22:30:46","2022-09-15 21:31:09");
INSERT INTO bitacora VALUES("SES4141","USU0001","2022-10-20 16:49:11","");
INSERT INTO bitacora VALUES("SES4527","USU411","2022-09-15 23:28:06","2022-09-15 22:35:36");
INSERT INTO bitacora VALUES("SES4635","USU411","2022-10-19 23:25:37","2022-10-19 22:30:05");
INSERT INTO bitacora VALUES("SES4724","USU0001","2022-09-15 22:45:59","2022-09-15 22:27:24");
INSERT INTO bitacora VALUES("SES4843","USU0001","2022-10-22 20:06:34","2022-10-22 19:06:42");
INSERT INTO bitacora VALUES("SES5214","USU0001","2022-09-15 21:19:09","2022-09-15 21:24:28");
INSERT INTO bitacora VALUES("SES528","USU0001","2022-09-15 19:21:16","2022-09-15 18:21:22");
INSERT INTO bitacora VALUES("SES5416","USU0001","2022-09-15 22:27:58","2022-09-15 21:30:40");
INSERT INTO bitacora VALUES("SES5723","USU0001","2022-09-15 22:44:58","2022-09-15 21:45:22");
INSERT INTO bitacora VALUES("SES6121","USU0001","2022-09-15 22:40:51","2022-09-15 21:40:58");
INSERT INTO bitacora VALUES("SES6229","USU0001","2022-09-17 15:38:16","");
INSERT INTO bitacora VALUES("SES6546","USU0001","2022-10-22 21:13:52","2022-10-22 20:14:30");
INSERT INTO bitacora VALUES("SES6718","USU0001","2022-09-15 22:31:14","2022-09-15 21:31:22");
INSERT INTO bitacora VALUES("SES7025","USU411","2022-09-15 23:27:28","2022-09-15 22:27:35");
INSERT INTO bitacora VALUES("SES704","USU0001","2022-09-15 19:05:13","2022-09-15 18:07:25");
INSERT INTO bitacora VALUES("SES7313","USU411","2022-09-15 21:14:27","2022-09-15 20:19:01");
INSERT INTO bitacora VALUES("SES7322","USU411","2022-09-15 22:41:05","2022-09-15 21:43:39");
INSERT INTO bitacora VALUES("SES7912","USU411","2022-09-15 20:04:00","2022-09-15 20:14:23");
INSERT INTO bitacora VALUES("SES8130","USU0001","2022-09-18 16:57:27","2022-09-18 15:58:09");
INSERT INTO bitacora VALUES("SES8244","USU411","2022-10-22 20:06:47","2022-10-22 19:07:34");
INSERT INTO bitacora VALUES("SES8548","USU0001","2022-10-22 21:15:38","");
INSERT INTO bitacora VALUES("SES9015","USU950","2022-09-15 18:40:04","2022-09-15 17:40:15");
INSERT INTO bitacora VALUES("SES9016","USU411","2022-09-15 18:40:23","2022-09-15 17:41:28");
INSERT INTO bitacora VALUES("SES9234","USU0001","2022-10-19 23:20:24","2022-10-19 22:25:31");
INSERT INTO bitacora VALUES("SES936","USU0001","2022-09-15 19:08:27","2022-09-15 18:08:42");
INSERT INTO bitacora VALUES("SES9742","USU0001","2022-10-22 16:00:51","2022-10-22 19:06:02");
INSERT INTO bitacora VALUES("SES989","USU411","2022-09-15 19:21:29","2022-09-15 18:25:11");


DROP TABLE IF EXISTS categoria;

CREATE TABLE `categoria` (
  `ID_CATEGORIA` int(11) NOT NULL AUTO_INCREMENT,
  `NOMBRE` varchar(20) DEFAULT NULL,
  `DETALLE` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_CATEGORIA`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=latin1;

INSERT INTO categoria VALUES("5","Celulares","Celulares");
INSERT INTO categoria VALUES("6","Computadoras","");
INSERT INTO categoria VALUES("7","Auriculares","");
INSERT INTO categoria VALUES("8","Memorias","");
INSERT INTO categoria VALUES("9","Motherboard","");


DROP TABLE IF EXISTS cliente;

CREATE TABLE `cliente` (
  `ID_CLIENTE` varchar(20) NOT NULL,
  `NOMBRE` varchar(100) DEFAULT NULL,
  `DIRECCION` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_CLIENTE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO cliente VALUES("100","Cliente ","Cliente ");
INSERT INTO cliente VALUES("74845456","sergio arana","");
INSERT INTO cliente VALUES("74847448","oscar sirlopu","");


DROP TABLE IF EXISTS cotizacion;

CREATE TABLE `cotizacion` (
  `ID_COTIZACION` varchar(10) NOT NULL,
  `ID_CLIENTE` varchar(20) NOT NULL,
  `ID_USUARIO` varchar(10) NOT NULL,
  `FECHAHORA` datetime DEFAULT NULL,
  `FECHA` date NOT NULL,
  `ENTREGA` int(11) DEFAULT NULL,
  `SUBTOTAL` double(6,2) DEFAULT NULL,
  `DESCUENTO` double(6,2) DEFAULT NULL,
  `PRECIO_VENTA` double(6,2) DEFAULT NULL,
  PRIMARY KEY (`ID_COTIZACION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO cotizacion VALUES("C000042","74847448","USU0001","2022-09-15 17:26:56","2022-09-15","1","120","5","115");
INSERT INTO cotizacion VALUES("C000263","74847448","USU411","2022-09-15 21:25:21","2022-09-15","1","240","0","240");
INSERT INTO cotizacion VALUES("C000321","74847448","USU0001","2022-09-15 17:21:46","2022-09-15","1","120","0","120");
INSERT INTO cotizacion VALUES("C000540","74847448","USU0001","2022-09-15 17:20:46","2022-09-15","2","120","0","120");


DROP TABLE IF EXISTS cuotas_credito;

CREATE TABLE `cuotas_credito` (
  `ID_CUOTA` int(11) NOT NULL AUTO_INCREMENT,
  `NUM_CUOTA` int(11) DEFAULT NULL,
  `ID_VENTA` varchar(15) DEFAULT NULL,
  `ID_CLIENTE` varchar(10) DEFAULT NULL,
  `MES` varchar(2) DEFAULT NULL,
  `ANO` varchar(4) DEFAULT NULL,
  `DIA` varchar(2) DEFAULT NULL,
  `MONTOCUOTA` decimal(15,2) NOT NULL,
  `ESTADO` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID_CUOTA`),
  KEY `ID_VENTA` (`ID_VENTA`),
  KEY `ID_CLIENTE` (`ID_CLIENTE`),
  CONSTRAINT `cuotas_credito_ibfk_1` FOREIGN KEY (`ID_VENTA`) REFERENCES `venta_credito` (`ID_VENTA`),
  CONSTRAINT `cuotas_credito_ibfk_2` FOREIGN KEY (`ID_CLIENTE`) REFERENCES `cliente` (`ID_CLIENTE`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;



DROP TABLE IF EXISTS detalle_cotizacion;

CREATE TABLE `detalle_cotizacion` (
  `ID_DETALLE` int(11) NOT NULL AUTO_INCREMENT,
  `ID_COTIZACION` varchar(10) DEFAULT NULL,
  `ID_PRODUCTO` varchar(10) DEFAULT NULL,
  `ID_UNIDAD` int(11) DEFAULT NULL,
  `DETALLE` varchar(100) DEFAULT NULL,
  `CANTIDAD` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID_DETALLE`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;

INSERT INTO detalle_cotizacion VALUES("3","C000540","PROD674200","6","und de Demo","1");
INSERT INTO detalle_cotizacion VALUES("4","C000321","PROD674200","6","und de Demo","1");
INSERT INTO detalle_cotizacion VALUES("5","C000042","PROD674200","6","und de Demo","1");
INSERT INTO detalle_cotizacion VALUES("6","C000263","PROD674200","6","und de Demo","2");


DROP TABLE IF EXISTS detalle_salida_entrada_producto;

CREATE TABLE `detalle_salida_entrada_producto` (
  `ID_DETALLE` int(11) NOT NULL AUTO_INCREMENT,
  `TIPO_DETALLE` int(11) DEFAULT NULL,
  `ID_SALIDA_ENTRADA` varchar(10) DEFAULT NULL,
  `ID_UNIDAD` int(11) DEFAULT NULL,
  `ID_PRODUCTO` varchar(10) DEFAULT NULL,
  `CANTIDAD` int(11) DEFAULT NULL,
  `PRECIO` double(6,2) DEFAULT NULL,
  `STOCK_EXISTENTE` int(11) DEFAULT NULL,
  `FECHA` datetime DEFAULT current_timestamp(),
  PRIMARY KEY (`ID_DETALLE`),
  KEY `ID_PRODUCTO` (`ID_PRODUCTO`),
  CONSTRAINT `detalle_salida_entrada_producto_ibfk_1` FOREIGN KEY (`ID_PRODUCTO`) REFERENCES `producto` (`ID_PRODUCTO`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=latin1;

INSERT INTO detalle_salida_entrada_producto VALUES("4","1","ENTR010","6","PROD674200","5","100","5","2022-07-14 12:50:44");
INSERT INTO detalle_salida_entrada_producto VALUES("5","2","000860","6","PROD674200","1","120","4","2022-07-14 12:52:34");
INSERT INTO detalle_salida_entrada_producto VALUES("6","2","000041","6","PROD674200","1","120","3","2022-08-28 20:19:43");
INSERT INTO detalle_salida_entrada_producto VALUES("7","1","ENTR010","8","PROD853162","40","120.45","40","2022-09-15 23:26:03");
INSERT INTO detalle_salida_entrada_producto VALUES("8","2","000802","8","PROD853162","1","156.45","39","2022-09-15 23:29:21");
INSERT INTO detalle_salida_entrada_producto VALUES("9","1","ENTR030","9","PROD019353","15","320","15","2022-09-17 15:42:18");


DROP TABLE IF EXISTS detalle_venta_contado;

CREATE TABLE `detalle_venta_contado` (
  `ID_DETALLE` int(11) NOT NULL AUTO_INCREMENT,
  `ID_VENTA` varchar(15) DEFAULT NULL,
  `ID_PRODUCTO` varchar(10) DEFAULT NULL,
  `ID_UNIDAD` int(11) DEFAULT NULL,
  `DETALLE` varchar(200) DEFAULT NULL,
  `CANTIDAD` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID_DETALLE`),
  KEY `ID_VENTA` (`ID_VENTA`),
  KEY `ID_PRODUCTO` (`ID_PRODUCTO`),
  CONSTRAINT `detalle_venta_contado_ibfk_1` FOREIGN KEY (`ID_VENTA`) REFERENCES `venta_contado` (`ID_VENTA`),
  CONSTRAINT `detalle_venta_contado_ibfk_2` FOREIGN KEY (`ID_PRODUCTO`) REFERENCES `producto` (`ID_PRODUCTO`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

INSERT INTO detalle_venta_contado VALUES("2","000860","PROD674200","6","und de Demo","1");
INSERT INTO detalle_venta_contado VALUES("3","000041","PROD674200","6","und de Demo","1");
INSERT INTO detalle_venta_contado VALUES("4","000802","PROD853162","8","und de MEM. RAM KINGSTON FURY BEAST DDR5 16GB/5200MHZ (KF","1");


DROP TABLE IF EXISTS detalle_venta_credito;

CREATE TABLE `detalle_venta_credito` (
  `ID_DETALLE` int(11) NOT NULL AUTO_INCREMENT,
  `ID_VENTA` varchar(15) DEFAULT NULL,
  `ID_PRODUCTO` varchar(10) DEFAULT NULL,
  `ID_UNIDAD` int(11) DEFAULT NULL,
  `DETALLE` varchar(200) DEFAULT NULL,
  `CANTIDAD` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID_DETALLE`),
  KEY `ID_VENTA` (`ID_VENTA`),
  KEY `ID_PRODUCTO` (`ID_PRODUCTO`),
  CONSTRAINT `detalle_venta_credito_ibfk_1` FOREIGN KEY (`ID_VENTA`) REFERENCES `venta_credito` (`ID_VENTA`),
  CONSTRAINT `detalle_venta_credito_ibfk_2` FOREIGN KEY (`ID_PRODUCTO`) REFERENCES `producto` (`ID_PRODUCTO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;



DROP TABLE IF EXISTS entrada_producto;

CREATE TABLE `entrada_producto` (
  `ID_ENTRADA` varchar(10) NOT NULL,
  `TIPO_INGRESO` int(11) DEFAULT NULL,
  `ID_PROVEEDOR` varchar(10) DEFAULT NULL,
  `DOCUMENTO` int(11) DEFAULT NULL,
  `NUMERO` varchar(10) DEFAULT NULL,
  `OBSERVACION` varchar(2000) CHARACTER SET utf8 COLLATE utf8_spanish2_ci DEFAULT NULL,
  `F_INGRESO` datetime DEFAULT current_timestamp(),
  PRIMARY KEY (`ID_ENTRADA`),
  KEY `ID_PROVEEDOR` (`ID_PROVEEDOR`),
  CONSTRAINT `entrada_producto_ibfk_1` FOREIGN KEY (`ID_PROVEEDOR`) REFERENCES `proveedor` (`ID_PROVEEDOR`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO entrada_producto VALUES("ENTR010","1","PROV836791","1","74847448","00","2022-09-15 23:26:03");
INSERT INTO entrada_producto VALUES("ENTR011","1","PROV509290","1","10","00","2022-07-14 12:50:44");
INSERT INTO entrada_producto VALUES("ENTR030","1","PROV836791","1","74847448","","2022-09-17 15:42:18");


DROP TABLE IF EXISTS marca;

CREATE TABLE `marca` (
  `ID_MARCA` int(11) NOT NULL AUTO_INCREMENT,
  `NOMBRE` varchar(20) DEFAULT NULL,
  `DETALLE` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_MARCA`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=latin1;

INSERT INTO marca VALUES("4","Lg","Lg");
INSERT INTO marca VALUES("5","mickys","");
INSERT INTO marca VALUES("6","MSI","");
INSERT INTO marca VALUES("7","nike","");
INSERT INTO marca VALUES("8","Kingston","");
INSERT INTO marca VALUES("9","Asus","");


DROP TABLE IF EXISTS paramatros;

CREATE TABLE `paramatros` (
  `ID_PARAMETRO` int(11) NOT NULL AUTO_INCREMENT,
  `MONEDA` varchar(10) DEFAULT NULL,
  `EMPRESA` varchar(100) DEFAULT NULL,
  `TIPO` int(11) DEFAULT NULL,
  `NUMERO` varchar(40) DEFAULT NULL,
  `PROPIETARIO` varchar(100) DEFAULT NULL,
  `DIRECCION` varchar(100) DEFAULT NULL,
  `LOGO` varchar(100) DEFAULT NULL,
  `LOGOSIDE` varchar(100) NOT NULL,
  `NOMBRESIDE` varchar(25) NOT NULL,
  PRIMARY KEY (`ID_PARAMETRO`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

INSERT INTO paramatros VALUES("1","S/.","NOMBRE DE LA EMPRESA","1","123213213214","NOMBRE PROPIETARIO","DIRECCION DE LA EMPRESA","AMOSIS-LOGO-pdf.png","LOGO3869829026460621.png","Amodeus");


DROP TABLE IF EXISTS persona;

CREATE TABLE `persona` (
  `ID_PERSONA` varchar(10) NOT NULL,
  `NOMBRE` varchar(50) DEFAULT NULL,
  `APELLIDO` varchar(50) DEFAULT NULL,
  `DNI` varchar(50) DEFAULT NULL,
  `DIRECCION` varchar(50) DEFAULT NULL,
  `TELEFONO` varchar(50) DEFAULT NULL,
  `PERFIL` varchar(200) NOT NULL,
  PRIMARY KEY (`ID_PERSONA`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO persona VALUES("PER0001","Administrador","Admin","","","","");
INSERT INTO persona VALUES("PERS312","lidia","paredes","7451235","Mz r lote 51","945845124","PERFIL8225.jpg");
INSERT INTO persona VALUES("PERS511","denisse","lopera","74845674","Mz r lote 51","945845124","PERFIL5759.jfif");
INSERT INTO persona VALUES("PERS950","Oscar","Sirlopu","74847448","Mz r lote 1","920761512","PERFIL3231.jfif");


DROP TABLE IF EXISTS precio_producto;

CREATE TABLE `precio_producto` (
  `ID_PRECIO` int(11) NOT NULL AUTO_INCREMENT,
  `ID_PRODUCTO` varchar(10) DEFAULT NULL,
  `ID_UNIDAD` int(11) DEFAULT NULL,
  `UNIDADES` int(11) DEFAULT NULL,
  `PRECIO` double(6,2) DEFAULT NULL,
  `PRECIO_COSTO` double(6,2) DEFAULT NULL,
  PRIMARY KEY (`ID_PRECIO`),
  KEY `ID_UNIDAD` (`ID_UNIDAD`),
  KEY `ID_PRODUCTO` (`ID_PRODUCTO`),
  CONSTRAINT `precio_producto_ibfk_1` FOREIGN KEY (`ID_UNIDAD`) REFERENCES `unidad_medida` (`ID_UNIDAD`),
  CONSTRAINT `precio_producto_ibfk_2` FOREIGN KEY (`ID_PRODUCTO`) REFERENCES `producto` (`ID_PRODUCTO`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=latin1;

INSERT INTO precio_producto VALUES("6","PROD674200","1","1","120","100");
INSERT INTO precio_producto VALUES("7","PROD867841","1","1","120","0");
INSERT INTO precio_producto VALUES("8","PROD853162","1","1","156.45","120.45");
INSERT INTO precio_producto VALUES("9","PROD019353","1","1","450","320");


DROP TABLE IF EXISTS producto;

CREATE TABLE `producto` (
  `ID_PRODUCTO` varchar(10) NOT NULL,
  `NOMBRE` varchar(50) DEFAULT NULL,
  `STOCK_MINIMO` int(11) DEFAULT NULL,
  `CODIGO_BARRA` varchar(20) DEFAULT NULL,
  `ID_UNIDAD` int(11) DEFAULT NULL,
  `ID_MARCA` int(11) DEFAULT NULL,
  `ID_CATEGORIA` int(11) DEFAULT NULL,
  `PRECIO_COSTO` double(6,2) DEFAULT NULL,
  `PRECIO_VENTA` double(6,2) DEFAULT NULL,
  PRIMARY KEY (`ID_PRODUCTO`),
  KEY `ID_MARCA` (`ID_MARCA`),
  KEY `ID_CATEGORIA` (`ID_CATEGORIA`),
  CONSTRAINT `producto_ibfk_1` FOREIGN KEY (`ID_MARCA`) REFERENCES `marca` (`ID_MARCA`),
  CONSTRAINT `producto_ibfk_2` FOREIGN KEY (`ID_CATEGORIA`) REFERENCES `categoria` (`ID_CATEGORIA`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO producto VALUES("PROD019353","MB ASUS PRIME H610M-E D4 ( PRIME H610M-E D4 ) | MA","15","45677","1","9","9","320","450");
INSERT INTO producto VALUES("PROD674200","Demo","10","1234","1","4","5","100","200");
INSERT INTO producto VALUES("PROD853162","MEM. RAM KINGSTON FURY BEAST DDR5 16GB/5200MHZ (KF","10","000145","1","8","8","120.45","156.45");
INSERT INTO producto VALUES("PROD867841","AURICULAR MSI DS501 ( DS501 ) GAMING","50","125466","1","6","7","0","120");


DROP TABLE IF EXISTS productos_almacen;

CREATE TABLE `productos_almacen` (
  `ID_PA` int(11) NOT NULL AUTO_INCREMENT,
  `ID_PRODUCTO` varchar(10) DEFAULT NULL,
  `STOCK` int(11) DEFAULT NULL,
  PRIMARY KEY (`ID_PA`),
  KEY `ID_PRODUCTO` (`ID_PRODUCTO`),
  CONSTRAINT `productos_almacen_ibfk_1` FOREIGN KEY (`ID_PRODUCTO`) REFERENCES `producto` (`ID_PRODUCTO`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;

INSERT INTO productos_almacen VALUES("3","PROD674200","3");
INSERT INTO productos_almacen VALUES("4","PROD853162","39");
INSERT INTO productos_almacen VALUES("5","PROD019353","15");


DROP TABLE IF EXISTS proveedor;

CREATE TABLE `proveedor` (
  `ID_PROVEEDOR` varchar(10) NOT NULL,
  `RUC` varchar(11) DEFAULT NULL,
  `RAZON_SOCIAL` varchar(100) DEFAULT NULL,
  `EMAIL` varchar(50) DEFAULT NULL,
  `TELEFONO` varchar(15) DEFAULT NULL,
  `DIRECCION` varchar(50) DEFAULT NULL,
  `DNI_R` varchar(8) DEFAULT NULL,
  `NOMBRE_R` varchar(50) DEFAULT NULL,
  `DIRECCION_R` varchar(50) DEFAULT NULL,
  `TELEFONO_R` varchar(15) DEFAULT NULL,
  PRIMARY KEY (`ID_PROVEEDOR`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO proveedor VALUES("PROV509290","1000","Demo sucursal","demo@demo.com","","","","","","");
INSERT INTO proveedor VALUES("PROV836791","20600142845","TECNOLOGIA DE IMPACTO ACOSTA SOCIEDAD ANONIMA CERRADA","","","AV. ARGENTINA NRO. 575 (PASAJE D INT. 7 C.C. LA CH","48037383","ACOSTA CHAPOÃ‘AN DEYVI DAVID","","");


DROP TABLE IF EXISTS salida_producto;

CREATE TABLE `salida_producto` (
  `ID_SALIDA` varchar(10) NOT NULL,
  `TIPO_SALIDA` int(11) DEFAULT NULL,
  `DESTINATARIO` varchar(50) DEFAULT NULL,
  `DOC_DESTINATARIO` int(11) DEFAULT NULL,
  `NUM_DOC_DESTINATARIO` varchar(15) DEFAULT NULL,
  `DOCUMENTO` int(11) DEFAULT NULL,
  `NUMERO` varchar(10) DEFAULT NULL,
  `OBSERVACION` varchar(2000) CHARACTER SET utf8 COLLATE utf8_spanish2_ci DEFAULT NULL,
  `F_SALIDA` datetime DEFAULT current_timestamp(),
  PRIMARY KEY (`ID_SALIDA`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO salida_producto VALUES("000041","1","","6","","2","000041","Venta de tipo contado con Ticket: 000041, SubTotal de venta: 120, Descuento: 0, Total: 120","2022-08-28 20:19:43");
INSERT INTO salida_producto VALUES("000802","1","oscar sirlopu","2","74847448","2","000802","Venta de tipo contado con Ticket: 000802, SubTotal de venta: 156.45, Descuento: 0, Total: 156.45","2022-09-15 23:29:21");
INSERT INTO salida_producto VALUES("000860","1","Cliente ","6","100","2","000860","Venta de tipo contado con Ticket: 000860, SubTotal de venta: 120, Descuento: 0, Total: 120","2022-07-14 12:52:34");


DROP TABLE IF EXISTS ticket;

CREATE TABLE `ticket` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `TITULO` varchar(100) DEFAULT NULL,
  `TELEFONO` varchar(20) DEFAULT NULL,
  `DIRECCION` varchar(100) DEFAULT NULL,
  `PIE` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

INSERT INTO ticket VALUES("1","PUNTO DE VENTA PRUEBA","+99 999999999","AV. Direccion","Gracias por Tu compra");


DROP TABLE IF EXISTS ticket_cuotas_credito;

CREATE TABLE `ticket_cuotas_credito` (
  `ID_TICKET` int(11) NOT NULL AUTO_INCREMENT,
  `ID_CUOTA` int(11) DEFAULT NULL,
  `FECHAHORA` datetime DEFAULT NULL,
  `PAGOCON` decimal(15,2) NOT NULL,
  `CAMBIO` decimal(15,2) NOT NULL,
  `ID_USUARIO` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`ID_TICKET`),
  KEY `ID_CUOTA` (`ID_CUOTA`),
  KEY `ID_USUARIO` (`ID_USUARIO`),
  CONSTRAINT `ticket_cuotas_credito_ibfk_1` FOREIGN KEY (`ID_CUOTA`) REFERENCES `cuotas_credito` (`ID_CUOTA`),
  CONSTRAINT `ticket_cuotas_credito_ibfk_2` FOREIGN KEY (`ID_USUARIO`) REFERENCES `usuario` (`ID_USUARIO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



DROP TABLE IF EXISTS ticket_inicial_credito;

CREATE TABLE `ticket_inicial_credito` (
  `ID_TICKET` int(11) NOT NULL AUTO_INCREMENT,
  `ID_VENTA` varchar(15) DEFAULT NULL,
  `FECHAHORA` datetime DEFAULT NULL,
  `INICIAL` decimal(15,2) NOT NULL,
  `PAGOCON` decimal(15,2) NOT NULL,
  `CAMBIO` decimal(15,2) NOT NULL,
  `ID_CLIENTE` varchar(10) DEFAULT NULL,
  `ID_USUARIO` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`ID_TICKET`),
  KEY `ID_VENTA` (`ID_VENTA`),
  KEY `ID_USUARIO` (`ID_USUARIO`),
  KEY `ID_CLIENTE` (`ID_CLIENTE`),
  CONSTRAINT `ticket_inicial_credito_ibfk_1` FOREIGN KEY (`ID_VENTA`) REFERENCES `venta_credito` (`ID_VENTA`),
  CONSTRAINT `ticket_inicial_credito_ibfk_2` FOREIGN KEY (`ID_USUARIO`) REFERENCES `usuario` (`ID_USUARIO`),
  CONSTRAINT `ticket_inicial_credito_ibfk_3` FOREIGN KEY (`ID_CLIENTE`) REFERENCES `cliente` (`ID_CLIENTE`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;



DROP TABLE IF EXISTS turno;

CREATE TABLE `turno` (
  `ID_TURNO` varchar(15) NOT NULL,
  `SALDO` double(6,2) DEFAULT NULL,
  `FECHA_I` date DEFAULT NULL,
  `FECHA_F` date DEFAULT NULL,
  `FHORA` datetime DEFAULT NULL,
  `FHORA2` datetime DEFAULT NULL,
  `ESTADO` int(11) DEFAULT NULL,
  `ID_USUARIO` varchar(10) NOT NULL,
  PRIMARY KEY (`ID_TURNO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO turno VALUES("TURN04465674","100","2022-09-15","2022-09-15","2022-09-15 20:04:10","2022-09-15 20:12:16","0","USU411");
INSERT INTO turno VALUES("TURN18095474","800","2022-10-19","","2022-10-19 23:31:54","","1","USU0001");
INSERT INTO turno VALUES("TURN19251425","800","2022-10-19","2022-10-19","2022-10-19 23:26:32","2022-10-19 22:28:21","0","USU411");
INSERT INTO turno VALUES("TURN23678003","800","2022-10-22","","2022-10-22 21:14:56","","1","USU411");
INSERT INTO turno VALUES("TURN29060043","500","2022-09-15","2022-09-15","2022-09-15 19:56:10","2022-09-15 19:00:06","0","USU411");
INSERT INTO turno VALUES("TURN42075612","5","2022-09-15","2022-09-15","2022-09-15 19:22:23","2022-09-15 18:25:07","0","USU411");
INSERT INTO turno VALUES("TURN47958592","500","2022-09-15","2022-09-15","2022-09-15 19:32:34","2022-09-15 18:55:26","0","USU411");
INSERT INTO turno VALUES("TURN51336518","900","2022-09-15","2022-09-15","2022-09-15 23:28:16","2022-09-15 23:01:40","0","USU411");
INSERT INTO turno VALUES("TURN82165546","5","2022-08-28","2022-09-11","2022-08-28 20:19:15","2022-09-11 21:47:14","0","USU0001");
INSERT INTO turno VALUES("TURN86099314","100","2022-09-14","2022-09-14","2022-09-14 22:40:11","2022-09-14 22:30:47","0","USU0001");
INSERT INTO turno VALUES("TURN91838378","10","2022-07-14","2022-09-11","2022-07-14 07:51:33","2022-09-11 21:47:10","0","USU0001");
INSERT INTO turno VALUES("TURN93726924","900","2022-09-15","2022-09-15","2022-09-15 22:26:06","2022-09-15 21:27:44","0","USU411");
INSERT INTO turno VALUES("TURN94758185","5","2022-09-15","2022-09-15","2022-09-15 19:09:09","2022-09-15 18:20:34","0","USU411");


DROP TABLE IF EXISTS unidad_medida;

CREATE TABLE `unidad_medida` (
  `ID_UNIDAD` int(11) NOT NULL AUTO_INCREMENT,
  `PREFIJO` varchar(10) DEFAULT NULL,
  `DETALLE` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_UNIDAD`)
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=latin1;

INSERT INTO unidad_medida VALUES("1","und","Unidad");
INSERT INTO unidad_medida VALUES("2","kg","Kilogramo");
INSERT INTO unidad_medida VALUES("3","mm","Milimetro");


DROP TABLE IF EXISTS usuario;

CREATE TABLE `usuario` (
  `ID_USUARIO` varchar(10) NOT NULL,
  `USUARIO` varchar(50) DEFAULT NULL,
  `PASS` varchar(200) DEFAULT NULL,
  `ID_PERSONA` varchar(10) DEFAULT NULL,
  `PRIVILEGIO` int(11) DEFAULT NULL,
  `ESTADO` int(11) DEFAULT NULL,
  `DASHBOARD` int(11) NOT NULL,
  `ALMACEN` int(11) NOT NULL,
  `COMPRAS` int(11) NOT NULL,
  `VENTAS` int(11) NOT NULL,
  `TURNOS` int(1) NOT NULL,
  `COTIZACION` int(11) NOT NULL,
  `INVENTARIO` int(11) NOT NULL,
  `ADMIN` int(11) NOT NULL,
  `PARAMETROS` int(11) NOT NULL,
  `BACKUP` int(11) NOT NULL,
  PRIMARY KEY (`ID_USUARIO`),
  KEY `ID_PERSONA` (`ID_PERSONA`),
  CONSTRAINT `usuario_ibfk_1` FOREIGN KEY (`ID_PERSONA`) REFERENCES `persona` (`ID_PERSONA`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO usuario VALUES("USU0001","Administrador","NEM0enB4VEY1cWRNWTJuZGpHcHIxQT09","PER0001","1","1","1","1","1","1","1","1","1","1","1","1");
INSERT INTO usuario VALUES("USU411","osirlopu","NEM0enB4VEY1cWRNWTJuZGpHcHIxQT09","PERS950","2","1","0","0","0","1","0","1","0","0","0","0");
INSERT INTO usuario VALUES("USU462","lparedes","NEM0enB4VEY1cWRNWTJuZGpHcHIxQT09","PERS312","0","1","0","1","1","0","0","0","1","0","0","0");
INSERT INTO usuario VALUES("USU950","dlopera","NEM0enB4VEY1cWRNWTJuZGpHcHIxQT09","PERS511","1","1","1","1","1","1","1","1","1","1","1","1");


DROP TABLE IF EXISTS venta_contado;

CREATE TABLE `venta_contado` (
  `ID_VENTA` varchar(15) NOT NULL,
  `FECHAHORA` datetime DEFAULT NULL,
  `FECHA` date DEFAULT NULL,
  `ANO` varchar(4) DEFAULT NULL,
  `MES` varchar(2) DEFAULT NULL,
  `DIA` varchar(2) DEFAULT NULL,
  `SUBTOTAL` decimal(15,2) NOT NULL,
  `DESCUENTO` decimal(15,2) NOT NULL,
  `TOTAL` decimal(15,2) NOT NULL,
  `PAGOCON` decimal(15,2) NOT NULL,
  `CAMBIO` decimal(15,2) NOT NULL,
  `ESTADO` int(11) DEFAULT NULL,
  `ID_CLIENTE` varchar(20) DEFAULT NULL,
  `ID_USUARIO` varchar(10) DEFAULT NULL,
  `ID_TURNO` varchar(15) NOT NULL,
  PRIMARY KEY (`ID_VENTA`),
  KEY `ID_USUARIO` (`ID_USUARIO`),
  CONSTRAINT `venta_contado_ibfk_1` FOREIGN KEY (`ID_USUARIO`) REFERENCES `usuario` (`ID_USUARIO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO venta_contado VALUES("000041","2022-08-28 19:19:43","2022-08-28","2022","08","28","120.00","0.00","120.00","200.00","80.00","1","","USU0001","TURN82165546");
INSERT INTO venta_contado VALUES("000802","2022-09-15 22:29:21","2022-09-15","2022","09","15","156.45","0.00","156.45","200.00","43.55","1","74847448","USU411","TURN51336518");
INSERT INTO venta_contado VALUES("000860","2022-07-14 07:52:34","2022-07-14","2022","07","14","120.00","0.00","120.00","120.00","0.00","1","100","USU0001","TURN91838378");


DROP TABLE IF EXISTS venta_credito;

CREATE TABLE `venta_credito` (
  `ID_VENTA` varchar(15) NOT NULL,
  `FECHA` date DEFAULT NULL,
  `ANO` varchar(4) DEFAULT NULL,
  `MES` varchar(2) DEFAULT NULL,
  `DIA` varchar(2) DEFAULT NULL,
  `SUBTOTAL` decimal(15,2) NOT NULL,
  `DESCUENTO` decimal(15,2) NOT NULL,
  `TASA` varchar(2) DEFAULT NULL,
  `INTERES` decimal(15,2) NOT NULL,
  `TOTAL` decimal(15,2) NOT NULL,
  `ID_CLIENTE` varchar(20) DEFAULT NULL,
  `ID_USUARIO` varchar(10) DEFAULT NULL,
  `ESTADO` int(11) DEFAULT NULL,
  `MESES` int(11) DEFAULT NULL,
  `MESESCUOTA` decimal(15,2) NOT NULL,
  `INICIAL` decimal(15,2) NOT NULL,
  `DIA_PAGO` varchar(2) DEFAULT NULL,
  PRIMARY KEY (`ID_VENTA`),
  KEY `ID_USUARIO` (`ID_USUARIO`),
  KEY `ID_CLIENTE` (`ID_CLIENTE`),
  CONSTRAINT `venta_credito_ibfk_1` FOREIGN KEY (`ID_USUARIO`) REFERENCES `usuario` (`ID_USUARIO`),
  CONSTRAINT `venta_credito_ibfk_2` FOREIGN KEY (`ID_CLIENTE`) REFERENCES `cliente` (`ID_CLIENTE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



SET FOREIGN_KEY_CHECKS=1;